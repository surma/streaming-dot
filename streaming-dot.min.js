(function(a,b){'object'==typeof exports&&'string'!=typeof exports.nodeName?b(exports,require('events')):b(a.doT={})})(this,function(a,b){'use strict';function d(g){return g.replace(/\\('|\\)/g,'$1').replace(/[\r\t\n]/g,' ')}Object.assign(a,{version:'1.0.0',templateSettings:{evaluate:/\{\{(([^\}]+|\\.)+)\}\}/g,interpolate:/\{\{=\s*([^\}]+)\}\}/g,stream:/\{\{~\s*([^\}]+)\}\}/g,conditional:/\{\{\?\s*([^\}]*)\}\}/g,node:'object'==typeof process,varname:'it'}}),a.compile=function(g,h){h=Object.assign({},a.templateSettings,h);var i;i=h.node?`var s=(r)=>{
var d=!1;
r.on('end',_=>{d=!0});
return i={next:_=> ({done:d,value:new Promise(p=>r.once('data',c=>p(c)))}),[Symbol.iterator]:_=>i};
};`:`var s = (r) => {
r=r.getReader();
var d = !1;
return i={next:_=>({done:d,value:r.read().then(v=>{d=v.done;return P(v.value)})}),[Symbol.iterator]:_=>i};
};`,g='var P=Promise.resolve.bind(Promise);'+i+'var g=function*(){yield P(\''+g.replace(/'|\\/g,'\\$&').replace(h.interpolate,function(j,k){return'\');yield P('+d(k)+');yield P(\''}).replace(h.conditional,function(j,k){return k?'\');yield P('+d(k)+').then(v=>v&&P(\'':'\'));yield P(\''}).replace(h.stream,function(j,k){return'\');yield* s('+d(k)+');yield P(\''}).replace(h.evaluate,function(j,k){return'\');'+d(k)+';yield P(\''}).replace(/\n/g,'\\n').replace(/\t/g,'\\t').replace(/\r/g,'\\r')+'\');}();',g+=h.node?`var e=new EE(),
d=g.next();
P(d.value).then(function f(v){
if(d.done)return e.emit('end');
v&&e.emit('data',Buffer.from(v));
d=g.next();
return P(d.value).then(f);
});
return e;`:`var e=new TextEncoder();
return new ReadableStream({
pull: c=>{
var v=g.next();
if(v.done)return c.close();
v.value.then(d=>{
if(typeof(d)=="string")d=e.encode(d);
d&&c.enqueue(d);
});
return v.value;
}});`;try{if(h.noEval)return g;if(h.node){const j=new Function(h.varname,'EE',g);return k=>j(k,b)}return new Function(h.varname,g)}catch(j){throw console.log('Could not create a template function: '+g),j}}});
